rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    // Regla para datos de usuario (Journal, Checklist, Pomodoro, Trello Config)
    // Permite leer y escribir si el usuario está autenticado.
    // Esto significa que cualquier usuario autenticado (anónimo o Google)
    // puede leer y escribir en su propia sección de datos.
    match /artifacts/{appId}/users/{userId}/{document=**} {
      allow read, write: if request.auth != null;
    }
  }
}