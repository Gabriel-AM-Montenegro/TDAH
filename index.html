<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>App TDAH</title>
  <link rel="stylesheet" href="css/styles1.css">
  <style>
    #css-check {
      position: fixed;
      top: 0;
      left: 0;
      width: 10px;
      height: 10px;
      background-color: red; 
      z-index: 99999;
    }
  </style>
</head>
<body>
  <div id="css-check"></div>

  <div class="container">

    <header>
      <h1>ğŸ§  TDAH Helper App</h1>
      <p>Tu asistente personal para organizaciÃ³n y productividad</p>
      <div id="user-info-area">
        <span id="user-display-name">Cargando...</span>
        <div class="auth-buttons-wrapper">
          <button id="google-signin-btn" class="auth-btn">Iniciar con Google</button>
          <button id="anonymous-signin-btn" class="auth-btn">Iniciar AnÃ³nimamente</button>
          <button id="email-signin-toggle-btn" class="auth-btn">Iniciar con Email</button>
        </div>
        <button id="logout-btn" style="display: none;">Cerrar SesiÃ³n</button>
        <p id="user-id-display" style="font-size: 0.8em; color: rgba(255,255,255,0.7); margin-top: 5px;"></p>
      </div>
    </header>

    <nav class="nav-tabs">
      <button id="btn-pomodoro" class="active">â±ï¸ Pomodoro</button>
      <button id="btn-checklist">âœ… Checklist RÃ¡pido</button>
      <button id="btn-journal">ğŸ“ Journal</button>
      <button id="btn-habitos">ğŸŒ± HÃ¡bitos</button>
      <button id="btn-tareas">ğŸ“‹ Tareas Trello</button>
      <button id="btn-notas">ğŸ“š Notas Blog</button>
      <button id="btn-nutricion">ğŸ NutriciÃ³n</button>
      <button id="btn-config">âš™ï¸ ConfiguraciÃ³n</button>
    </nav>

    <main>
      <!-- SecciÃ³n Pomodoro -->
      <section id="pomodoro" class="seccion active">
        <h2>â±ï¸ Temporizador Pomodoro</h2>
        <p class="subtitle">EnfÃ³cate en tus tareas con bloques de tiempo definidos.</p>
        <div class="pomodoro-timer-container">
          <svg class="pomodoro-progress-ring" width="200" height="200">
            <circle class="pomodoro-progress-ring-track" stroke="#e6e6e6" stroke-width="10" fill="transparent" r="90" cx="100" cy="100"/>
            <circle class="pomodoro-progress-ring-progress" stroke="var(--primary-color)" stroke-width="10" fill="transparent" r="90" cx="100" cy="100"/>
          </svg>
          <p id="timer">25:00</p>
        </div>
        <div class="pomodoro-buttons">
          <button id="start-timer-btn">Iniciar</button>
          <button id="pause-pomodoro-btn">Pausar</button>
          <button id="reset-timer-btn">Reiniciar</button>
        </div>
        <audio id="sound-complete" src="https://www.soundjay.com/buttons/beep-07.mp3" preload="auto"></audio>
        <audio id="sound-break" src="https://www.soundjay.com/misc/sounds/bell-ringing-05.mp3" preload="auto"></audio>
        <audio id="sound-task-done" src="https://www.soundjay.com/buttons/button-20.mp3" preload="auto"></audio>
      </section>

      <!-- SecciÃ³n Checklist RÃ¡pido -->
      <section id="checklist" class="seccion">
        <h2>âœ… Checklist RÃ¡pido</h2>
        <p class="subtitle">La clave es no abrumarse. Al inicio de cada dÃ­a, identifica las <strong>3 tareas mÃ¡s importantes (MITs - Most Important Tasks)</strong>. Si terminas esas, puedes pasar a otras, pero el objetivo es asegurar lo crucial.</p>
        <div class="mit-explanation">
          <p>Marca hasta 3 tareas como MITs usando la casilla "MIT". Estas se destacarÃ¡n con un color especial. Â¡Puedes aÃ±adir mÃ¡s tareas en cualquier momento!</p>
        </div>
        <div class="input-group">
          <input type="text" id="checkItem" placeholder="Nuevo Ã­tem del checklist..." />
          <button id="add-check-item-btn">â• Agregar</button>
        </div>
        <ul id="checkList">
          <!-- Los Ã­tems del checklist se cargarÃ¡n aquÃ­ -->
        </ul>
        <p class="help-text">Para tareas pequeÃ±as y recordatorios rÃ¡pidos del dÃ­a</p>
      </section>

      <!-- SecciÃ³n Journal Personal -->
      <section id="journal" class="seccion">
        <h2>ğŸ“ Journal Personal</h2>
        <p class="subtitle">Un espacio para tus pensamientos, reflexiones y logros diarios.</p>
        <textarea id="journalEntry" placeholder="Escribe aquÃ­ tu entrada de hoy..."></textarea>
        <button id="save-journal-entry-btn">Guardar Entrada</button>
        <h3>Tus Entradas Anteriores</h3>
        <ul id="journalEntriesList">
          <!-- Las entradas del journal se cargarÃ¡n aquÃ­ -->
        </ul>
      </section>

      <!-- SecciÃ³n HÃ¡bitos Diarios -->
      <section id="habitos" class="seccion">
        <h2>ğŸŒ± HÃ¡bitos Diarios</h2>
        <p class="subtitle">Construye rutinas saludables y sigue tu progreso dÃ­a a dÃ­a.</p>
        <div class="input-group">
          <input type="text" id="newHabitInput" placeholder="AÃ±adir nuevo hÃ¡bito (ej. Beber 2L de agua)" />
          <button id="add-habit-btn">â• AÃ±adir HÃ¡bito</button>
        </div>
        <h3>Mis HÃ¡bitos</h3>
        <ul id="habitsList">
          <!-- Los hÃ¡bitos se cargarÃ¡n aquÃ­ -->
        </ul>
      </section>

      <!-- SecciÃ³n Tareas Trello -->
      <section id="tareas" class="seccion">
        <h2>ğŸ“‹ Tareas Trello</h2>
        <p class="subtitle">Visualiza las tareas de tu board de Trello que vencen esta semana.</p>
        
        <a href="#" id="trello-board-link" target="_blank" style="text-decoration: none; color: inherit;">
          <h3>Tareas para esta semana â†—</h3>
        </a>
        <ul id="listaTareas">
          <li>Cargando tareas de Trello...</li>
        </ul>

        <div class="config-card">
          <h3>Estado de ConexiÃ³n</h3>
          <p id="trello-status" class="status-indicator status-disconnected">âŒ Trello no conectado</p>
          <p id="trello-success-message" class="success-message" style="display: none;">ConexiÃ³n exitosa. Â¡Tareas cargadas!</p>
          <button id="test-trello-btn">Probar ConexiÃ³n</button>
          <button id="config-trello-btn">Configurar Trello</button>
        </div>
      </section>

      <!-- SecciÃ³n Notas Blog -->
      <section id="notas" class="seccion">
        <h2>ğŸ“š Notas Blog</h2>
        <p class="subtitle">ArtÃ­culos y consejos Ãºtiles sobre TDAH y productividad.</p>
        <button id="refresh-blog-btn">Actualizar ArtÃ­culos</button>
        <div id="blog-content">
          <p>Cargando artÃ­culos...</p>
        </div>
      </section>

      <!-- SecciÃ³n NutriciÃ³n -->
      <section id="nutricion" class="seccion">
        <h2>ğŸ NutriciÃ³n</h2>
        <p class="subtitle">Recomendaciones nutricionales para apoyar tu bienestar cerebral.</p>
        <button id="refresh-nutricion-btn">Actualizar Contenido</button>
        <div id="nutricion-content">
          <p>Cargando recomendaciones...</p>
        </div>
      </section>

      <!-- SecciÃ³n ConfiguraciÃ³n -->
      <section id="config" class="seccion">
        <h2>âš™ï¸ ConfiguraciÃ³n</h2>
        <p class="subtitle">Personaliza tu experiencia y gestiona tus datos.</p>

        <h3>ConfiguraciÃ³n de Trello API</h3>
        <div class="config-step">
          <label for="api-key">Trello API Key:</label>
          <input type="text" id="api-key" placeholder="Tu clave API de Trello" />
          <p class="help-text">ObtÃ©n tu API Key <a href="https://trello.com/power-ups/admin" target="_blank">aquÃ­</a>.</p>
        </div>
        <div class="config-step">
          <label for="token">Trello Token:</label>
          <input type="text" id="token" placeholder="Tu token de Trello" />
          <p class="help-text">Genera un token <a href="https://trello.com/power-ups/admin" target="_blank">aquÃ­</a> (haz clic en "Token" bajo tu API Key).</p>
        </div>
        <div class="config-step">
          <label for="board-id">Trello Board ID:</label>
          <input type="text" id="board-id" placeholder="ID de tu tablero de Trello" />
          <p class="help-text">El ID del tablero estÃ¡ en la URL: <code>https://trello.com/b/&lt;span style="font-weight: bold; color: var(--primary-color);"&gt;[BOARD_ID]&lt;/span&gt;/tu-tablero</code></p>
        </div>
        <button id="save-trello-config-btn">Guardar ConfiguraciÃ³n de Trello</button>

        <h3>GestiÃ³n de Datos</h3>
        <button id="clear-data-btn" class="button-danger">Limpiar Todos los Datos</button>
        <p class="help-text">Esto eliminarÃ¡ todos tus datos (Pomodoro, Checklist, Journal, Trello Config, HÃ¡bitos) de forma permanente.</p>
      </section>
    </main>

    <footer>
      <p>&copy; 2025 TDAH Helper App. Todos los derechos reservados.</p>
      <div class="status-counts">
        <span>Tareas: <span id="tasks-count">0</span></span>
        <span>Checklist: <span id="checklist-count">0</span></span>
      </div>
    </footer>
  </div>

  <!-- Contenedor para mensajes temporales -->
  <div id="temp-message-container"></div>

  <!-- Contenedor para el confeti -->
  <div id="confetti-container"></div>

  <!-- Custom Confirmation Modal -->
  <div id="custom-modal-overlay" class="custom-modal-overlay">
    <div class="custom-modal-content">
      <p id="custom-modal-message">Â¿EstÃ¡s seguro?</p>
      <div class="modal-buttons">
        <button id="custom-modal-yes-btn">SÃ­</button>
        <button id="custom-modal-no-btn" class="button-danger">No</button>
      </div>
    </div>
  </div>

  <!-- Welcome Tour Overlay -->
  <div id="welcome-tour-overlay">
    <div class="welcome-tour-modal-inner">
      <div class="welcome-tour-content">
        <h3 id="tour-title"></h3>
        <p id="tour-description"></p>
        <div class="tour-highlight-image-container">
          <img id="tour-highlight-image" src="" alt="Highlight Image" class="tour-highlight-image" style="display: none;">
        </div>
      </div>
      <div class="welcome-tour-navigation">
        <button id="tour-back-btn" class="tour-nav-btn">â¬…ï¸ Anterior</button>
        <div id="tour-dots" class="tour-dots"></div>
        <button id="tour-next-btn" class="tour-nav-btn">Siguiente â¡ï¸</button>
        <button id="tour-skip-btn" class="tour-nav-btn button-danger">Omitir Tour</button>
      </div>
    </div>
  </div>

  <script src="js/main.js" type="module"></script>

</body>
</html>